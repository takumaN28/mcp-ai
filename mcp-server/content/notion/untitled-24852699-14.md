---
title: 意味検索（Embedding）とキーワード検索（lunr.js）の違い
slug: untitled-24852699-14
tags:
  - MCP
  - 検索
created: 2025-08-07
---


## Context


MCPサーバーでのナレッジ検索は lunr.js による全文検索から始まり、後にOpenAIのEmbedding APIを使った意味検索に移行した。両者の違いと役割を明確にしておく必要がある。


## Intent


意味検索とキーワード検索の本質的な違いと、MCPプロジェクト内での使い分け方針を整理すること。


## Knowledge

- キーワード検索は単語一致に強く、高速・軽量（例：lunr.js）
- 意味検索は文脈を理解して類似概念にもマッチする（例：「ずれる」≒「合わない」）
- 意味検索にはEmbedding APIが必要で、ベクトル比較を通じて文の意味で照合する
- 意味検索では言い換え・表記揺れに強いが、少しコストがかかる

## Decision / Result


MCPでは初期にキーワード検索（lunr.js）を採用し、のちに意味検索へ移行した。現在は `.md` ナレッジをベクトル化し、ユーザーの自由な言語表現に対応可能な検索体験を実現している。両者を併存させる構成も可能。


